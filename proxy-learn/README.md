*关键词： 代理 反射 解耦* 

## 代理模式：

1. 代理是什么？

    委托类 代理类 

2. 为什么要用代理? 

   代理可以做什么：在不修改源代码的基础上做方法增强。

   好处：解耦。

3. 代理的实际应用

   Spring AOP (用到了JDK CGLIB)

## 静态代理

1. 静态代理:代理类和委托类在代码运行前关系就确定了,也就是说在代理类的代码一开始就已经存在了
2. 特点：静态代理类只能为特定的接口(Service)服务(类、方法)。如想要为多个接口服务则需要建立很多个代理类。
3. 缺点：代理类和委托类实现了相同的接口，代理类通过委托类实现了相同的方法。这样就出现了大量的代码重复。如果接口增加一个方法，除了所有实现类需要实现这个方法外，所有代理类也需要实现此方法。增加了代码维护的复杂度。

## 动态代理

1. 动态代理类的字节码在程序运行时通过反射生成的
2. jdk原生动态生成的代理类，和委托类实现了同样的接口。 如果委托类实现类 IEat IRun 接口，则生成的代理类同样也实现了这两个接口。
3. cglib动态生成的代理类，和委托类不需要实现同样的接口，代理类是委托类的子类。
4. 作用解耦：通过一个代理类完成全部的代理功能(比如：日志记录、性能统计、异常处理等)，那么我们就需要用动态代理

### 动态代理分类：

1. JDK动态代理
   + 只能对实现了接口的类生成代理，而不能针对类
2. CGLIB动态代理
   + 对指定的类生成一个子类，覆盖其中的方法









